%form#modal-form.pref{ :onsubmit => 'sendModal("pref"); return false;', :onreset => 'closeModal(); return false;' }
  %div.modal-form-element
    %table
      %tbody
        %tr
          %th Preferences
    %table
      %tbody
        %tr
          %th{:colspan => 3} Menu
        %tr
          %td
            %input#box_button_bar{:name => 'box_button_bar', :type => 'checkbox', :value => true, :checked => preferences[:box_button_bar]}
          %td{:colspan => 2}
            %label{:for =>'box_button_bar'}
              show window button bar
        %tr
          %th{:colspan => 3} Autocomplete
        %tr
          %td
            %input#autocompletion{:name => 'autocompletion', :type => 'checkbox', :value => true, :checked => preferences[:autocompletion]}
          %td{:colspan => 2}
            %label{:for =>'autocompletion'}
              enable command line autocomplete
        - {:command => 'commands', :file => 'file names', :sect => 'sentence and section names', :anno => 'annotations from tagset', :makro => 'layer shortcuts and annotation makros', :ref => 'element references', :annotator => 'annotator names'}.each do |key, text|
          %tr
            %td
            %td
              %input.autocompletion{:id => key, :name => key, :type => 'checkbox', :value => true, :checked => preferences[key], :disabled => !preferences[:autocompletion]}
            %td
              %label{:for => key}
                = text

  #modal-submit.bottom-block
    %input{ :type => 'reset', :value => 'Cancel' }
    %input{ :type => 'submit', :value => 'Save' }
