%form#modal-form.pref{ :onsubmit => 'sendModal("pref"); return false;', :onreset => 'closeModal(); return false;' }
  %div.modal-form-element
    %table
      %tbody
        %tr
          %th Preferences
    %table
      %tbody
        %tr
          %th{:colspan => 3} Menu
        %tr
          %td
            %input#button_bar{:name => 'button_bar', :type => 'checkbox', :value => true, :checked => preferences[:button_bar]}
          %td{:colspan => 2}
            %label{:for =>'button_bar'}
              show button bar
        %tr
          %th{:colspan => 3} Autocomplete
        %tr
          %td
            %input#autocompletion{:name => 'autocompletion', :type => 'checkbox', :value => true, :checked => preferences[:autocompletion]}
          %td{:colspan => 2}
            %label{:for =>'autocompletion'}
              enable command line autocomplete
        - {:command => 'commands', :file => 'file names', :sect => 'sentence and section names', :anno => 'annotations from tagset', :makro => 'layer shortcuts and annotation makros', :ref => 'element references', :annotator => 'annotator names'}.each do |key, text|
          %tr
            %td
            %td
              %input.autocompletion{:id => key, :name => key, :type => 'checkbox', :value => true, :checked => preferences[key], :disabled => !preferences[:autocompletion]}
            %td
              %label{:for => key}
                = text
        %tr
          %th{:colspan => 3} Autosave
        %tr
          %td
            %input#autosave{:name => 'autosave', :type => 'checkbox', :value => true, :checked => preferences[:autosave]}
          %td{:colspan => 2}
            %label{:for =>'autosave'}
              save current corpus file automatically every n minutes
        %tr
          %td
          %td
            %input#autosave_interval.autosave{:name => 'autosave_interval', :type => 'number', :value => preferences[:autosave_interval], :min => '1', :step => '1', :disabled => !preferences[:autosave]}
          %td
            %label{:for =>'autosave_interval'}
              autosave interval in minutes
        %tr
          %th{:colspan => 3} Independent nodes window
        %tr
          %td
            %input#i_nodes_max{:name => 'i_nodes_max', :type => 'number', :value => preferences[:i_nodes_max], :min => 0}
          %td{:colspan => 2}
            %label{:for =>'i_nodes_max'}
              max. number of nodes to show

  #modal-submit.bottom-block
    %input{ :type => 'reset', :value => 'Cancel' }
    %input{ :type => 'submit', :value => 'Save' }
