%form#modal-form.tagset{ :onsubmit => 'sendModal("tagset"); return false;', :onreset => 'closeModal(); return false;' }
  #modal-warning.error_message
  %div.modal-form-element
    %table
      %tbody
        %tr
          %th{ :colspan => 2 } Tagset
        %tr
          %th Key
          %th Value
        - if graph.tagset.empty?
          = haml :tagset_form_row, :locals => {:i => 0}
        - else
          - graph.tagset.each_with_index do |rule, i|
            = haml :tagset_form_row, :locals => {:i => i, :key => rule.key, :value => rule.values_string}
      %tbody
        %tr
          %td{:colspan => 2}
            %button{:onclick => 'newFormSegment("tagset_form_row", ".tagset"); return false;'}
              Add new key-values pair

  #modal-submit.bottom-block
    %input{ :type => 'reset', :value => 'Cancel' }
    %input{ :type => 'submit', :value => 'Save' }
